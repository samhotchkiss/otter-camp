# =============================================================================
# Otter Camp Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to git

# =============================================================================
# Server Configuration
# =============================================================================
PORT=4200
VERSION=dev

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# Local development
DATABASE_URL=postgres://otter:camp@localhost:5432/ottercamp?sslmode=disable

# Railway (uses Railway's managed Postgres - set automatically)
# DATABASE_URL=${{Postgres.DATABASE_URL}}

# =============================================================================
# OpenClaw Integration
# =============================================================================
# Webhook secret for validating incoming dispatch requests
OPENCLAW_WEBHOOK_SECRET=your-webhook-secret-here

# Secret for OpenClaw websocket bridge connections (/ws/openclaw)
OPENCLAW_WS_SECRET=your-openclaw-ws-secret-here

# Secret required by /api/sync/openclaw (preferred variable name)
OPENCLAW_SYNC_SECRET=your-openclaw-sync-secret-here

# Backward-compatible alias for OPENCLAW_SYNC_SECRET
# OPENCLAW_SYNC_TOKEN=your-openclaw-sync-token-here

# OpenClaw auth token signature secret
OPENCLAW_AUTH_SECRET=your-openclaw-auth-secret-here

# Ellie ingestion OpenClaw extractor (LLM path)
# ELLIE_INGESTION_OPENCLAW_BINARY=openclaw
# ELLIE_INGESTION_OPENCLAW_GATEWAY_URL=ws://127.0.0.1:18791
# ELLIE_INGESTION_OPENCLAW_GATEWAY_TOKEN=
# ELLIE_INGESTION_OPENCLAW_AGENT=elephant
# ELLIE_INGESTION_OPENCLAW_SESSION_NAMESPACE=ellie-ingestion
# ELLIE_INGESTION_OPENCLAW_EXPECT_MODEL_CONTAINS=haiku
# ELLIE_INGESTION_OPENCLAW_TIMEOUT=90s
# ELLIE_INGESTION_OPENCLAW_MAX_CANDIDATE_CHARS=800

# Optional: allow any oc_magic_* token in /api/auth/validate (unsafe, local dev only)
# OTTERCAMP_ALLOW_INSECURE_MAGIC_AUTH=false
# ALLOW_INSECURE_MAGIC_TOKEN_VALIDATION=false

# Optional: comma-separated websocket origins allowed by browser clients
# WS_ALLOWED_ORIGINS=http://localhost:5173,https://app.otter.camp

# Optional: trust workspace/user claims from unverified JWT bearer payloads (unsafe)
# TRUST_UNVERIFIED_JWT_WORKSPACE_CLAIMS=false

# =============================================================================
# GitHub Integration (Pearl)
# =============================================================================
# Enable GitHub App-backed repo/issue sync endpoints
# GITHUB_INTEGRATION_ENABLED=false

# GitHub App credentials (required when enabled in non-development environments)
# GITHUB_APP_ID=1234567
# GITHUB_APP_PRIVATE_KEY_PEM=-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----
# GITHUB_APP_PRIVATE_KEY_PATH=/absolute/path/to/github-app-private-key.pem
# GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# Local clone storage root for mapped project repositories
# GITHUB_REPO_ROOT=./data/repos

# OtterCamp project repo storage (bare repos)
# GIT_REPO_ROOT=/data/repos

# Fallback polling interval for missed webhook events
# GITHUB_POLL_INTERVAL=60m

# Optional: override API base URL for GitHub Enterprise / testing
# GITHUB_API_BASE_URL=https://api.github.com

# =============================================================================
# Frontend Configuration (build-time)
# =============================================================================
# API URL for the frontend to connect to (leave blank for relative URLs in prod-local)
VITE_API_URL=

# =============================================================================
# Railway-specific (set automatically by Railway)
# =============================================================================
# RAILWAY_ENVIRONMENT=production
# RAILWAY_SERVICE_NAME=otter-camp-api
# RAILWAY_PROJECT_ID=xxx
# RAILWAY_GIT_COMMIT_SHA=xxx
