# =============================================================================
# Otter Camp Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to git

# =============================================================================
# Server Configuration
# =============================================================================
PORT=8080
VERSION=dev

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# Local development
DATABASE_URL=postgres://otter:camp@localhost:5432/ottercamp?sslmode=disable

# Railway (uses Railway's managed Postgres - set automatically)
# DATABASE_URL=${{Postgres.DATABASE_URL}}

# =============================================================================
# Cache (Redis) - Optional
# =============================================================================
# Local development
REDIS_URL=redis://localhost:6379

# Railway (uses Railway's managed Redis - set automatically)
# REDIS_URL=${{Redis.REDIS_URL}}

# =============================================================================
# OpenClaw Integration
# =============================================================================
# Webhook secret for validating incoming dispatch requests
OPENCLAW_WEBHOOK_SECRET=your-webhook-secret-here

# Secret for OpenClaw websocket bridge connections (/ws/openclaw)
OPENCLAW_WS_SECRET=your-openclaw-ws-secret-here

# Token required by /api/sync/openclaw (falls back to OPENCLAW_WEBHOOK_SECRET when unset)
OPENCLAW_SYNC_TOKEN=your-openclaw-sync-token-here

# OpenClaw auth token signature secret
OPENCLAW_AUTH_SECRET=your-openclaw-auth-secret-here

# Optional: allow any oc_magic_* token in /api/auth/validate (unsafe, local dev only)
# ALLOW_INSECURE_MAGIC_TOKEN_VALIDATION=false

# Optional: comma-separated websocket origins allowed by browser clients
# WS_ALLOWED_ORIGINS=http://localhost:5173,https://app.otter.camp

# Optional: trust workspace/user claims from unverified JWT bearer payloads (unsafe)
# TRUST_UNVERIFIED_JWT_WORKSPACE_CLAIMS=false

# =============================================================================
# GitHub Integration (Pearl)
# =============================================================================
# Enable GitHub App-backed repo/issue sync endpoints
# GITHUB_INTEGRATION_ENABLED=false

# GitHub App credentials (required when enabled in non-development environments)
# GITHUB_APP_ID=1234567
# GITHUB_APP_PRIVATE_KEY_PEM=-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----
# GITHUB_APP_PRIVATE_KEY_PATH=/absolute/path/to/github-app-private-key.pem
# GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# Local clone storage root for mapped project repositories
# GITHUB_REPO_ROOT=./data/repos

# Fallback polling interval for missed webhook events
# GITHUB_POLL_INTERVAL=60m

# Optional: override API base URL for GitHub Enterprise / testing
# GITHUB_API_BASE_URL=https://api.github.com

# =============================================================================
# Frontend Configuration (build-time)
# =============================================================================
# API URL for the frontend to connect to
VITE_API_URL=http://localhost:8080

# =============================================================================
# Railway-specific (set automatically by Railway)
# =============================================================================
# RAILWAY_ENVIRONMENT=production
# RAILWAY_SERVICE_NAME=otter-camp-api
# RAILWAY_PROJECT_ID=xxx
# RAILWAY_GIT_COMMIT_SHA=xxx
