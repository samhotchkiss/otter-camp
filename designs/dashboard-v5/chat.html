<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>otter.camp ‚Äî Chat</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    
    :root {
      --font: 'Inter', -apple-system, sans-serif;
      --bg: #FAF8F5;
      --surface: #FFFFFF;
      --surface-alt: #F5F2ED;
      --border: #E8E2D9;
      --text: #2D2A26;
      --text-muted: #8B7355;
      --accent: #5C4A3D;
      --accent-hover: #4A3C31;
      --orange: #C87941;
      --green: #5A7A5C;
      --red: #B85C38;
      --blue: #4A6D7C;
    }
    
    [data-theme="dark"] {
      --bg: #1A1918;
      --surface: #252422;
      --surface-alt: #2D2B28;
      --border: #3D3A36;
      --text: #FAF8F5;
      --text-muted: #A69582;
      --accent: #C9A86C;
      --accent-hover: #D4B87A;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      height: 100vh;
      overflow: hidden;
    }
    
    .app {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    
    /* Top Bar */
    .topbar {
      background: var(--accent);
      color: var(--bg);
      padding: 12px 24px;
      display: flex;
      align-items: center;
      gap: 24px;
      flex-shrink: 0;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      font-size: 18px;
    }
    
    .logo-icon { font-size: 24px; }
    
    .search-trigger {
      flex: 1;
      max-width: 400px;
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
    }
    
    .search-trigger-text {
      flex: 1;
      opacity: 0.7;
      font-size: 14px;
    }
    
    .search-trigger kbd {
      background: rgba(255,255,255,0.2);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
    }
    
    .topbar-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .theme-toggle {
      background: none;
      border: none;
      color: inherit;
      font-size: 20px;
      cursor: pointer;
    }
    
    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
    }
    
    /* Main Layout */
    .main {
      flex: 1;
      display: grid;
      grid-template-columns: 320px 1fr;
      overflow: hidden;
    }
    
    /* Chat Sidebar */
    .chat-sidebar {
      background: var(--surface);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .sidebar-header {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .sidebar-title {
      font-weight: 700;
      font-size: 16px;
    }
    
    .sidebar-action {
      background: none;
      border: none;
      color: var(--accent);
      font-size: 20px;
      cursor: pointer;
    }
    
    .sidebar-tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
    }
    
    .sidebar-tab {
      flex: 1;
      padding: 12px;
      text-align: center;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-muted);
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all 0.15s;
    }
    
    .sidebar-tab.active {
      color: var(--accent);
      border-bottom-color: var(--accent);
    }
    
    .chat-list {
      flex: 1;
      overflow-y: auto;
    }
    
    .chat-section {
      padding: 12px 0;
    }
    
    .chat-section-title {
      padding: 8px 20px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--text-muted);
    }
    
    .chat-item {
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: background 0.15s;
      border-left: 3px solid transparent;
    }
    
    .chat-item:hover {
      background: var(--surface-alt);
    }
    
    .chat-item.active {
      background: var(--surface-alt);
      border-left-color: var(--accent);
    }
    
    .chat-item.unread {
      background: rgba(200, 121, 65, 0.08);
    }
    
    .chat-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--blue);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
      flex-shrink: 0;
    }
    
    .chat-avatar.issue {
      border-radius: 8px;
      background: var(--surface-alt);
      border: 1px solid var(--border);
      font-size: 16px;
    }
    
    .chat-info {
      flex: 1;
      min-width: 0;
    }
    
    .chat-name {
      font-weight: 600;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .chat-badge {
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 4px;
      background: var(--surface-alt);
      color: var(--text-muted);
    }
    
    .chat-badge.issue {
      background: rgba(74, 109, 124, 0.15);
      color: var(--blue);
    }
    
    .chat-preview {
      font-size: 13px;
      color: var(--text-muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .chat-meta {
      text-align: right;
      flex-shrink: 0;
    }
    
    .chat-time {
      font-size: 11px;
      color: var(--text-muted);
    }
    
    .chat-unread {
      background: var(--orange);
      color: white;
      font-size: 11px;
      font-weight: 700;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 4px;
      margin-left: auto;
    }
    
    /* Chat Main */
    .chat-main {
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .chat-header {
      padding: 16px 24px;
      border-bottom: 1px solid var(--border);
      background: var(--surface);
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .chat-header-avatar {
      width: 44px;
      height: 44px;
      border-radius: 8px;
      background: var(--surface-alt);
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    .chat-header-info {
      flex: 1;
    }
    
    .chat-header-title {
      font-weight: 700;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .chat-header-title .badge {
      font-size: 11px;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 4px;
      background: rgba(74, 109, 124, 0.15);
      color: var(--blue);
    }
    
    .chat-header-meta {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 2px;
    }
    
    .chat-header-agents {
      display: flex;
      gap: 8px;
    }
    
    .agent-chip {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: var(--surface-alt);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
    }
    
    .agent-chip-add {
      border-style: dashed;
      color: var(--text-muted);
      cursor: pointer;
    }
    
    /* Messages */
    .messages {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .message {
      display: flex;
      gap: 12px;
      max-width: 720px;
    }
    
    .message-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--blue);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 13px;
      flex-shrink: 0;
    }
    
    .message-avatar.human {
      background: var(--accent);
    }
    
    .message-content {
      flex: 1;
    }
    
    .message-header {
      display: flex;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 4px;
    }
    
    .message-author {
      font-weight: 600;
      font-size: 14px;
    }
    
    .message-time {
      font-size: 11px;
      color: var(--text-muted);
    }
    
    .message-text {
      font-size: 14px;
      line-height: 1.6;
      color: var(--text);
    }
    
    .message-text code {
      background: var(--surface-alt);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 13px;
    }
    
    .message-text a {
      color: var(--accent);
      text-decoration: none;
    }
    
    .message-text a:hover {
      text-decoration: underline;
    }
    
    /* Input */
    .chat-input-area {
      padding: 16px 24px;
      border-top: 1px solid var(--border);
      background: var(--surface);
    }
    
    .chat-input-box {
      background: var(--surface-alt);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 16px;
      display: flex;
      gap: 12px;
      align-items: flex-end;
    }
    
    .chat-input {
      flex: 1;
      border: none;
      background: none;
      font-size: 14px;
      font-family: var(--font);
      color: var(--text);
      resize: none;
      min-height: 24px;
      max-height: 120px;
    }
    
    .chat-input:focus {
      outline: none;
    }
    
    .chat-input::placeholder {
      color: var(--text-muted);
    }
    
    .chat-actions {
      display: flex;
      gap: 8px;
    }
    
    .chat-action-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 18px;
      cursor: pointer;
      padding: 4px;
    }
    
    .chat-action-btn:hover {
      color: var(--text);
    }
    
    .chat-send-btn {
      background: var(--accent);
      color: var(--bg);
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .chat-send-btn:hover {
      background: var(--accent-hover);
    }
    
    .chat-input-hint {
      margin-top: 8px;
      font-size: 11px;
      color: var(--text-muted);
      display: flex;
      gap: 16px;
    }
    
    .chat-input-hint kbd {
      background: var(--surface);
      padding: 2px 6px;
      border-radius: 4px;
      border: 1px solid var(--border);
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- Top Bar -->
    <header class="topbar">
      <div class="logo">
        <span class="logo-icon">ü¶¶</span>
        <span>otter.camp</span>
      </div>
      
      <div class="search-trigger">
        <span>üîç</span>
        <span class="search-trigger-text">Search or type a command...</span>
        <kbd>/</kbd>
      </div>
      
      <div class="topbar-right">
        <button class="theme-toggle">‚òÄÔ∏è</button>
        <div class="avatar"></div>
      </div>
    </header>
    
    <!-- Main -->
    <div class="main">
      <!-- Sidebar -->
      <aside class="chat-sidebar">
        <div class="sidebar-header">
          <span class="sidebar-title">Conversations</span>
          <button class="sidebar-action">‚úèÔ∏è</button>
        </div>
        
        <div class="sidebar-tabs">
          <div class="sidebar-tab active">All</div>
          <div class="sidebar-tab">DMs</div>
          <div class="sidebar-tab">Issues</div>
        </div>
        
        <div class="chat-list">
          <!-- Issue Threads -->
          <div class="chat-section">
            <div class="chat-section-title">Issue Threads</div>
            
            <div class="chat-item active">
              <div class="chat-avatar issue">üíé</div>
              <div class="chat-info">
                <div class="chat-name">
                  PEARL-042
                  <span class="chat-badge issue">Issue</span>
                </div>
                <div class="chat-preview">Derek: Done. Each retry now logs...</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">30m</div>
              </div>
            </div>
            
            <div class="chat-item unread">
              <div class="chat-avatar issue">üöÄ</div>
              <div class="chat-info">
                <div class="chat-name">
                  ITSALIVE-089
                  <span class="chat-badge issue">Issue</span>
                </div>
                <div class="chat-preview">Ivy: Tests passing, ready for deploy</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">1h</div>
                <div class="chat-unread">2</div>
              </div>
            </div>
            
            <div class="chat-item">
              <div class="chat-avatar issue">ü¶¶</div>
              <div class="chat-info">
                <div class="chat-name">
                  OTTER-003
                  <span class="chat-badge issue">Issue</span>
                </div>
                <div class="chat-preview">Jeff G: Command palette mockup done</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">2h</div>
              </div>
            </div>
          </div>
          
          <!-- DMs -->
          <div class="chat-section">
            <div class="chat-section-title">Direct Messages</div>
            
            <div class="chat-item">
              <div class="chat-avatar" style="background: #4A6D7C;">D</div>
              <div class="chat-info">
                <div class="chat-name">Derek</div>
                <div class="chat-preview">Railway token is working now</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">15m</div>
              </div>
            </div>
            
            <div class="chat-item">
              <div class="chat-avatar" style="background: #C87941;">J</div>
              <div class="chat-info">
                <div class="chat-name">Jeff G</div>
                <div class="chat-preview">v5 mockups are ready</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">1h</div>
              </div>
            </div>
            
            <div class="chat-item">
              <div class="chat-avatar" style="background: #5C4A3D;">F</div>
              <div class="chat-info">
                <div class="chat-name">Frank</div>
                <div class="chat-preview">Spec updated with all new features</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">2h</div>
              </div>
            </div>
            
            <div class="chat-item">
              <div class="chat-avatar" style="background: #8b5cf6;">S</div>
              <div class="chat-info">
                <div class="chat-name">Stone</div>
                <div class="chat-preview">Blog post draft is ready</div>
              </div>
              <div class="chat-meta">
                <div class="chat-time">3h</div>
              </div>
            </div>
          </div>
        </div>
      </aside>
      
      <!-- Chat Main -->
      <main class="chat-main">
        <div class="chat-header">
          <div class="chat-header-avatar">üíé</div>
          <div class="chat-header-info">
            <div class="chat-header-title">
              PEARL-042: Implement retry logic for 500 errors
              <span class="badge">P1</span>
            </div>
            <div class="chat-header-meta">Pearl ‚Ä¢ Started 2 hours ago</div>
          </div>
          <div class="chat-header-agents">
            <div class="agent-chip">üîß Derek</div>
            <div class="agent-chip">üìê Josh S</div>
            <div class="agent-chip agent-chip-add">+ Add</div>
          </div>
        </div>
        
        <div class="messages">
          <div class="message">
            <div class="message-avatar human">S</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Sam</span>
                <span class="message-time">2 hours ago</span>
              </div>
              <div class="message-text">
                When Anthropic returns HTTP 500, we currently fail over immediately. We should retry 2-3 times with backoff first, since 500s are often transient.
              </div>
            </div>
          </div>
          
          <div class="message">
            <div class="message-avatar" style="background: #4A6D7C;">D</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Derek</span>
                <span class="message-time">2 hours ago</span>
              </div>
              <div class="message-text">
                On it. I'll use exponential backoff with jitter ‚Äî starting at 1s, doubling each retry, max 3 attempts. Should handle transient 500s without hammering the API.
              </div>
            </div>
          </div>
          
          <div class="message">
            <div class="message-avatar" style="background: #4A6D7C;">D</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Derek</span>
                <span class="message-time">1 hour ago</span>
              </div>
              <div class="message-text">
                Implementation done in <code>src/core/retry.ts</code>. Added tests covering retry scenarios. Question: should we log retry attempts to the session, or just the final outcome?
              </div>
            </div>
          </div>
          
          <div class="message">
            <div class="message-avatar human">S</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Sam</span>
                <span class="message-time">45 min ago</span>
              </div>
              <div class="message-text">
                Log each retry attempt ‚Äî useful for debugging. Include the attempt number and delay used.
              </div>
            </div>
          </div>
          
          <div class="message">
            <div class="message-avatar" style="background: #4A6D7C;">D</div>
            <div class="message-content">
              <div class="message-header">
                <span class="message-author">Derek</span>
                <span class="message-time">30 min ago</span>
              </div>
              <div class="message-text">
                Done. Each retry now logs: <code>[retry 1/3] waiting 1.2s before retrying...</code> with the jittered delay. Tests updated. Ready for review when you are.
              </div>
            </div>
          </div>
        </div>
        
        <div class="chat-input-area">
          <div class="chat-input-box">
            <textarea class="chat-input" rows="1" placeholder="Message Derek, Josh S..."></textarea>
            <div class="chat-actions">
              <button class="chat-action-btn" title="Attach file">üìé</button>
              <button class="chat-action-btn" title="Add code">üíª</button>
            </div>
            <button class="chat-send-btn">
              Send
              <span>‚Üµ</span>
            </button>
          </div>
          <div class="chat-input-hint">
            <span><kbd>‚Üµ</kbd> send</span>
            <span><kbd>‚áß‚Üµ</kbd> new line</span>
            <span><kbd>@</kbd> mention agent</span>
          </div>
        </div>
      </main>
    </div>
  </div>
</body>
</html>
